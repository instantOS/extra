# Maintainer: paperbenni <paperbenni@gmail.com>
_pkgname=instantos
pkgname=$_pkgname
pkgver=9851542
pkgrel=1
pkgdesc="meta package for instantOS"
url="https://github.com/instantOS/instantMETA"
arch=('any')
license=('GPL2')
depends=('git')

makedepends=('bash' 'git' 'curl')
provides=(instantos)
conflicts=(instantos)
source=("$_pkgname::git+https://github.com/instantOS/instantMETA.git")

sha256sums=('SKIP')

pkgver() {
    cd $_pkgname
    echo "$(date '+%Y%m%d%H%M')"
}

package() {

    depends+=(
        'ins'
        'instantutils'
        'instantwallpaper'
        'instantassist'
        'instantpass'
        'instantthemes'
        'instantwidgets'
        'instantcursors'
        'ttf-firacode-nerd'
        'instantconf'
        'instantwm'
        'instantlock'
        'instantmenu'
        'instantwelcome'
        'instantpacman'
        'instantsettings'
        'instantsearch'
        'instantupdate'
        'instantlaunch'
        'grub-instantos'
        'islide'
        'imenu'
        'instantnotify'
        'instantsupport')

    cd $_pkgname

    mkdir -p ${pkgdir}/usr/share/instantos
    echo 'instantpackages' >${pkgdir}/usr/share/instantos/packages
    curl -s https://raw.githubusercontent.com/instantOS/instantOS/refs/heads/main/LICENSE >LICENSE
    install -m644 -D LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
